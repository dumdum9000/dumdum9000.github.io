const questions = [
    {
        description: "first facetime photo",
        correctAnswer: { img: "assets/sophia1.jpg" }
    },
    {
        description: "eheheeeheheh look at ur smile",
        correctAnswer: { img: "assets/sophia2.png" }
    },
    {
        description: "china make u that hungry fatty?",
        correctAnswer: { img: "assets/sophia3.jpg" }
    },
    {
        description: "what an absolute slob",
        correctAnswer: { img: "assets/sophia4.jpg" }
    },
    {
        description: "drunkard 1",
        correctAnswer: { img: "assets/sophia5.jpg" }
    },
    {
        description: "are you lonely i can fix that ahhh photo",
        correctAnswer: { img: "assets/sophia6.jpg" }
    },
    {
        description: "derpy asf plane ride",
        correctAnswer: { img: "assets/sophia7.jpg" }
    },
    {
        description: "cutie on the toilet",
        correctAnswer: { img: "assets/sophia8.jpg" }
    },
    {
        description: "glizzy gobbler",
        correctAnswer: { img: "assets/sophia9.jpg" }
    },
    {
        description: "that bed look big enough for the two of us",
        correctAnswer: { img: "assets/sophia10.jpg" }
    },
    {
        description: "crazy makeup and you choose to lay on my lap (peep the 250 shirt)",
        correctAnswer: { img: "assets/sophia11.jpg" }
    },
    {
        description: "hey ik this photo its in 594",
        correctAnswer: { img: "assets/sophia12.jpg" }
    },
    {
        description: "we look so cute together dont we?",
        correctAnswer: { img: "assets/sophia13.jpg" }
    },
    {
        description: "GAYLORD MICHIGAN",
        correctAnswer: { img: "assets/sophia14.jpg" }
    },
    {
        description: "average tame impala listener(look how hapy u are)",
        correctAnswer: { img: "assets/sophia15.jpg" }
    },
    {
        description: "Holy shit im not giving you 20 dollars again u bum",
        correctAnswer: { img: "assets/sophia16.jpg" }
    },
    {
        description: "absolutely atrocious order no cheese???",
        correctAnswer: { img: "assets/sophia17.jpg" }
    },
    {
        description: "scooch those chairs together and lets watch the sunset",
        correctAnswer: { img: "assets/sophia18.jpg" }
    },
    {
        description: "awwww so sad we leaving soon",
        correctAnswer: { img: "assets/sophia19.jpg" }
    },
    {
        description: "Posted up in that fire fit",
        correctAnswer: { img: "assets/sophia20.jpg" }
    },
    {
        description: "Sewing is not for the weak",
        correctAnswer: { img: "assets/sophia21.jpg" }
    },
    {
        description: "FUckk its mr steal yo girl",
        correctAnswer: { img: "assets/sophia22.jpg" }
    },
    {
        description: "Shes a runner shes a track starrrrr",
        correctAnswer: { img: "assets/sophia23.jpg" }
    },
    {
        description: "What am i being asked to do so?",
        correctAnswer: { img: "assets/sophia24.png" }
    },
    {
        description: "You peep at what now?????",
        correctAnswer: { img: "assets/sophia25.png" }
    },
    {
        description: "Cubee is so much more thicker than u",
        correctAnswer: { img: "assets/sophia26.jpg" }
    },
    {
        description: "You fucking stole my ipad (look how pretty u are)",
        correctAnswer: { img: "assets/sophia27.jpg" }
    },
    {
        description: "We getting JOESSSSSSS (u a bit drunk)",
        correctAnswer: { img: "assets/sophia28.jpg" }
    },
    {
        description: "Sophia gets her eyes puffy after she cries while drunk D:",
        correctAnswer: { img: "assets/sophia29.jpg" }
    },
    {
        description: "my favorite jamba juice worker",
        correctAnswer: { img: "assets/sophia30.jpg" }
    },
    {
        description: "Pose 28 with added genitalia (Serving cunt with the fit)",
        correctAnswer: { img: "assets/sophia31.jpg" }
    },
    {
        description: "You look so cut with ur glasses on, one of last time we ft D:",
        correctAnswer: { img: "assets/sophia32.jpg" }
    },
    {
        description: "PLEASSEEEEEEEEEEEEEE IM PRAYING",
        correctAnswer: { img: "assets/sophia33.jpg" }
    },
    {
        description: "Sophia get so sad after moving to mich D:",
        correctAnswer: { img: "assets/sophia34.jpg" }
    },
    {
        description: "EWWWWW WE TOUCH TONGUESS????",
        correctAnswer: { img: "assets/sophia35.jpg" }
    },
    {
        description: "Rocking those boots girl (ermmmmm)",
        correctAnswer: { img: "assets/sophia36.jpg" }
    },
    {
        description: "Why u steal my shirt( why my hair wet)",
        correctAnswer: { img: "assets/sophia37.jpg" }
    },
    {
        description: "Dumdum hat actually kinda fire",
        correctAnswer: { img: "assets/sophia38.jpg" }
    },
    {
        description: "why yo eyes so big, do u like meeeee :D",
        correctAnswer: { img: "assets/sophia39.jpg" }
    },
    {
        description: "i think u got some hummus on yo lip girl",
        correctAnswer: { img: "assets/sophia40.jpg" }
    },
    {
        description: "first cone photo, day of argument too :D",
        correctAnswer: { img: "assets/sophia41.jpg" }
    },
    {
        description: "red 40 so yummy!!! day of argument D:",
        correctAnswer: { img: "assets/sophia42.jpg" }
    },
    {
        description: "First day of school!! (not really), boba in hand :D",
        correctAnswer: { img: "assets/sophia43.jpg" }
    },
    {
        description: "yet another cone photo, take a guess on this one ;)",
        correctAnswer: { img: "assets/sophia44.jpg" }
    },
    {
        description: "posin like a walmart worker in the bathroom mirror",
        correctAnswer: { img: "assets/sophia45.jpg" }
    },
    {
        description: "what could she be thinking about in the mojo cafeteria",
        correctAnswer: { img: "assets/sophia46.jpg" }
    },
    {
        description: "ANOTHER CONE PHOTO YOU WILL NEVER GET THESE RIGHTTT",
        correctAnswer: { img: "assets/sophia48.jpg" }
    },
    {
        description: "shower photo AWOOOOGAA",
        correctAnswer: { img: "assets/sophia49.jpg" }
    },
    {
        description: "why she look so disgusted when im there",
        correctAnswer: { img: "assets/sophia50.jpg" }
    },
    {
        description: "CONE PHOTO 1000 yard stare",
        correctAnswer: { img: "assets/sophia51.jpg" }
    },
    {
        description: "Why you look forced in this cone photo",
        correctAnswer: { img: "assets/sophia52.jpg" }
    },
    {
        description: "Sleepy glasses girl hehehehe",
        correctAnswer: { img: "assets/sophia53.jpg" }
    },
    {
        description: "ANOTHER CONE PHOTOOO with glasses tho",
        correctAnswer: { img: "assets/sophia54.jpg" }
    },
    {
        description: "fatty got too impatient with this cone photo",
        correctAnswer: { img: "assets/sophia55.jpg" }
    },
    {
        description: "in the cave looking for diamonds, thats funny im in the same cave looking for minors",
        correctAnswer: { img: "assets/sophia56.png" }
    },
    {
        description: "CONE PHOTOOOOOO rawr",
        correctAnswer: { img: "assets/sophia57.jpg" }
    },
    {
        description: "my favorite Cone Photo, look at my beautiful girl",
        correctAnswer: { img: "assets/sophia58.jpg" }
    },
    {
        description: "Late night burrito seshhh i do not regret my gluttony",
        correctAnswer: { img: "assets/sophia59.jpg" }
    },
    {
        description: "Fatty spotted in natural habitat, look as she gazes stunned in disbelief",
        correctAnswer: { img: "assets/sophia60.jpg" }
    },
    {
        description: "Sleeping so comfortably in her bed that im not there anymore D:",
        correctAnswer: { img: "assets/sophia61.jpg" }
    },
    {
        description: "DOUBLE SHARETEA?????",
        correctAnswer: { img: "assets/sophia62.jpg" }
    },
    {
        description: "I like this one its like a mirror but WOOOMP",
        correctAnswer: { img: "assets/sophia63.jpg" }
    },
    {
        description: "You look like igor",
        correctAnswer: { img: "assets/sophia64.jpg" }
    },
    {
        description: "Shes stalking me through the door",
        correctAnswer: { img: "assets/sophia65.jpg" }
    },
    {
        description: "EUREEKAAAAA",
        correctAnswer: { img: "assets/sophia66.jpg" }
    },
];


let currentQuestionIndex = 0;
let currentScore = 0;
let highScore = localStorage.getItem('highScore') ? parseInt(localStorage.getItem('highScore')) : 0;
document.getElementById('high-score').innerText = highScore;

const positiveQuotes = [
    "I expected that",
    "If you didn't get that...",
    "Well i mean c'mon",
    "ur actually playing this?",
];

const negativeQuotes = [
    "...",
    "Do you even love me?",
    "u might as well just call off the wedding"
];

// Function to display the flash overlay with a random positive quote
function showCorrectFlashOverlay() {
    const flashOverlay = document.getElementById("flash-correct-overlay");
    const positiveQuote = document.getElementById("positive-quote");

    // Get a random positive quote
    const randomQuote = positiveQuotes[Math.floor(Math.random() * positiveQuotes.length)];
    positiveQuote.textContent = randomQuote;

    // Show flash
    flashOverlay.classList.add("active");

    // Hide flash after a delay
    setTimeout(() => {
        flashOverlay.classList.remove("active");
    }, 2500); // Adjust time if needed
}

function showIncorrectFlashOverlay() {
    const flashOverlay = document.getElementById("flash-incorrect-overlay");
    const negativeQuote = document.getElementById("negative-quote");

    // Get a random positive quote
    const randomQuote = negativeQuotes[Math.floor(Math.random() * negativeQuotes.length)];
    negativeQuote.textContent = randomQuote;

    // Show flash
    flashOverlay.classList.add("active");

    // Hide flash after a delay
    setTimeout(() => {
        flashOverlay.classList.remove("active");
    }, 5000); // Adjust time if needed
}

function displayQuestion() {
    const currentQuestion = questions[currentQuestionIndex];
    document.getElementById('scenario-text').innerText = currentQuestion.description;

    const optionsContainer = document.getElementById('answer-options');
    optionsContainer.innerHTML = '';

    const incorrectAnswers = getRandomIncorrectAnswers(currentQuestion.correctAnswer.img);
    const options = [currentQuestion.correctAnswer, ...incorrectAnswers];
    const shuffledOptions = shuffleOptions(options);

    shuffledOptions.forEach(option => {
        const optionDiv = document.createElement('div');
        optionDiv.classList.add('answer-option');
        optionDiv.innerHTML = `<img src="${option.img}" alt="Answer Option">`;
        optionDiv.onclick = () => checkAnswer(option.img === currentQuestion.correctAnswer.img);
        optionsContainer.appendChild(optionDiv);
    });

    optionsContainer.style.pointerEvents = 'auto'; // Re-enable clicking after displaying the question
}

function getRandomIncorrectAnswers(correctAnswerImg) {
    const filteredAnswers = possibleAnswers.filter(answer => answer.img !== correctAnswerImg);
    const randomIncorrectAnswers = [];
    while (randomIncorrectAnswers.length < 3 && filteredAnswers.length > 0) {
        const randomIndex = Math.floor(Math.random() * filteredAnswers.length);
        randomIncorrectAnswers.push(filteredAnswers[randomIndex]);
        filteredAnswers.splice(randomIndex, 1);
    }
    return randomIncorrectAnswers;
}

function shuffleOptions(options) {
    return options.sort(() => Math.random() - 0.5);
}

function checkAnswer(isCorrect) {
    const optionsContainer = document.getElementById('answer-options');
    optionsContainer.style.pointerEvents = 'none'; // Disable clicking

    if (isCorrect) {
        currentScore++;
        document.getElementById('current-score').innerText = currentScore;

        // Show flash effect and positive quote
        showCorrectFlashOverlay();

        // Pause for a bit before showing the next question
        setTimeout(() => {
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                displayQuestion();
            } else {
                endGame()
            }
        }, 2500); 
    } else {
        showIncorrectFlashOverlay()
        endGame();
        
    }
}

function endGame() {
    if (currentScore > highScore) {
        highScore = currentScore;
        localStorage.setItem('highScore', highScore);
        document.getElementById('high-score').innerText = highScore;
    }
    currentQuestionIndex = 0;
    currentScore = 0;
    document.getElementById('current-score').innerText = currentScore;

    document.getElementById("title-screen").style.display = "flex";
}


document.getElementById("start-btn").onclick = () => {
    // Hide the title screen and show the game container
    document.getElementById("title-screen").style.display = "none";
    document.getElementById("game-container").style.display = "block";

    // Shuffle questions and start the game
    questions.sort(() => Math.random() - 0.5);
    displayQuestion();
};

// Add this to your existing onload function
window.onload = () => {
    document.getElementById("title-screen").style.display = "flex"; // Show the title screen on load
};s